<body class="dashboard-principal">
  <app-header></app-header>
  <section>
    <h1 class="dashboard-principal-titulo">Dashboard FORD</h1>
  </section>

  <section class="dashboard-principal-container">
    <div class="dashboard-principal-data">
      <h3 class="dashboard-principal-data-titulo">Veículo</h3>
      <div class="dashboard-principal-data-conteudo dashboard-option">
        <select [(ngModel)]="veiculoSelecionado" name="carro">
          <option></option>
          <option *ngFor="let v of veiculos" [ngValue]="v">{{ v.vehicle }}</option>
        </select>
      </div>
    </div>

    <div class="dashboard-principal-data">
      <h3 class="dashboard-principal-data-titulo">Total de vendas</h3>
      <div class="dashboard-principal-data-conteudo">

        @if (veiculoSelecionado; as v) {
        <h3>{{v.volumetotal | number:'1.0-0'}}</h3>
        } @else {
        <h3>-</h3>
        }
        <p>Unid.</p>
      </div>
    </div>

    <div class="dashboard-principal-data">
      <h3 class="dashboard-principal-data-titulo">Conectados</h3>
      <div class="dashboard-principal-data-conteudo">
        @if (veiculoSelecionado; as v) {
        <h3>{{v.connected | number:'1.0-0'}}</h3>
        } @else {
        <h3>-</h3>
        }
        <p>Unid.</p>
      </div>
    </div>

    <div class="dashboard-principal-data">
      <h3 class="dashboard-principal-data-titulo">Update Software</h3>
      <div class="dashboard-principal-data-conteudo">
        @if (veiculoSelecionado; as v) {
        <h3>{{v.softwareUpdates | number:'1.0-0'}}</h3>
        } @else {
        <h3>-</h3>
        }
        <p>Unid.</p>
      </div>
    </div>
  </section>

  <section class="dashboard-principal-imagem">
    @if (veiculoSelecionado; as v) {
      <img src="{{v.img}}" alt="" class="dashboard-principal-imagem-carro" />
    } @else {
      <img src="" alt="" class="dashboard-principal-imagem-carro" />
    }
  </section>

  <section class="dashboard-principal-infos">
    <div class="dashboard-principal-datas">
      <h3>Código-Vin</h3>
      <div>
        <input type="text" maxlength="20" placeholder="Digite o VIN" [(ngModel)]="vin" (ngModelChange)="onVinChange()">
      </div>
    </div>
    <div class="dashboard-principal-datas">
      <h3>Odômetro</h3>
      @if (vehicleData) {
        <div> {{vehicleData.odometro | number:'1.0-0'}}</div>
      } @else {
        <div>-</div>
      }
    </div>
    <div class="dashboard-principal-datas">
      <h3>Nível de Combustível</h3>
      @if (vehicleData) {
        <div> {{vehicleData.nivelCombustivel | number:'1.0-0'}}</div>
      } @else {
        <div>-</div>
      }
    </div>
    <div class="dashboard-principal-datas">
      <h3>Status</h3>
      @if (vehicleData) {
        <div> {{vehicleData.status}}</div>
      } @else {
        <div>-</div>
      }
    </div>
    <div class="dashboard-principal-datas">
      <h3>Lat.</h3>
      @if (vehicleData) {
        <div> {{vehicleData.lat | number:'1.4-4' }}</div>
      } @else {
        <div>-</div>
      }
    </div>
    <div class="dashboard-principal-datas">
      <h3>Long.</h3>
      @if (vehicleData) {
        <div> {{vehicleData.long | number:'1.4-4' }}</div>
      } @else {
        <div>-</div>
      }
    </div>
  </section>
</body>